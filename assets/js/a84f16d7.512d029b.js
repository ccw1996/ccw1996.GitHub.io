"use strict";(self.webpackChunkblog_sample=self.webpackChunkblog_sample||[]).push([[722],{1482:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var r=t(5893),o=t(1151);const s={title:"Python\u7684\u91cd\u8bd5\u4ee3\u7801\u66f4\u52a0\u4f18\u96c5",tags:["work","python"]},a="\u51fd\u6570\u88c5\u9970",i={id:"python/debug",title:"Python\u7684\u91cd\u8bd5\u4ee3\u7801\u66f4\u52a0\u4f18\u96c5",description:"",source:"@site/docs/python/debug.md",sourceDirName:"python",slug:"/python/debug",permalink:"/docs/python/debug",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/python/debug.md",tags:[{label:"work",permalink:"/docs/tags/work"},{label:"python",permalink:"/docs/tags/python"}],version:"current",lastUpdatedAt:1714915113,formattedLastUpdatedAt:"May 5, 2024",frontMatter:{title:"Python\u7684\u91cd\u8bd5\u4ee3\u7801\u66f4\u52a0\u4f18\u96c5",tags:["work","python"]},sidebar:"tutorialSidebar",previous:{title:"APScheduler\u5e93\u7684",permalink:"/docs/python/APScheduler"},next:{title:"stable_diffusion",permalink:"/docs/stable_diffusion/"}},d={},c=[];function l(n){const e={code:"code",h1:"h1",pre:"pre",...(0,o.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"\u51fd\u6570\u88c5\u9970",children:"\u51fd\u6570\u88c5\u9970"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'import time\nfrom random import random\n\ndef retry(f):\n    """\u91cd\u8bd5\u88c5\u9970\u5668\uff0c\u5305\u88c5\u51fd\u6570\u52a0\u4e0a\u91cd\u8bd5\u529f\u80fd\n    """\n    def new_f(*args, **kwargs):\n        for i in range(5):  # \u6700\u591a\u91cd\u8bd55\u6b21\n            try:\n                return True, f(*args, **kwargs)\n            except Exception as e:\n                print(e)  # \u6253\u5370\u9519\u8bef\u4fe1\u606f\n                if i < 4:\n                    time.sleep(2)  # \u5ef6\u65f6\u4e24\u79d2\n        return False, None\n    return new_f\n\n@retry\ndef f():\n    # \u6709\u6982\u7387\u51fa\u9519\u7684\u4ee3\u7801\n    x = random()\n    if x < 0.5:\n        yyyy  # \u672a\u5b9a\u4e49yyyy\uff0c\u6240\u4ee5\u4f1a\u62a5\u9519\n    return x\n\nallright, _ = f()  # \u8fd4\u56de\u6267\u884c\u72b6\u6001\u548c\u6267\u884c\u7ed3\u679c\nif allright:\n    # \u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\n    print(\'\u6267\u884c\u6210\u529f\')\nelse:\n    # \u6267\u884c\u53e6\u4e00\u4e9b\u64cd\u4f5c\n    print(\'\u6267\u884c\u5931\u8d25\')\n'})})]})}function p(n={}){const{wrapper:e}={...(0,o.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(l,{...n})}):l(n)}},1151:(n,e,t)=>{t.d(e,{Z:()=>i,a:()=>a});var r=t(7294);const o={},s=r.createContext(o);function a(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);